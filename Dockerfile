FROM erlang:21

# Создаем и устанавливаем текущую директорию в контейнере
WORKDIR /app

# Копируем файлы в текущую папку контйнера и устанавливаем зависимости
COPY rebar.config ./

RUN rebar3 deps

# Копируем все файлы проекта в папку контейнера
COPY . .

# Компилируем проект в контейнере Erlang/OTP 21
RUN rebar3 compile

# При старте контейнера запускаем Erlang узел с приложением
CMD  ["rebar3", "shell", "--apps", "sip_pingpong"]

